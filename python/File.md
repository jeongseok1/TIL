# File

파일의 데이터는 숫자(binary 데이터) 또는 문자코드로 저장된다.

## 파일 입출력

- open(파일경로, 모드)  : 파일경로 모드 둘 다 문자열을 사용한다.

  - 파이썬에서는 파일 경로에 `\\`로 안쓰고 `/`만 써도 가능하다.  

- 모드

  - 동작 지정
    - r : 읽기, 파일이 없는 경우 예외 발생
    - w :  쓰기, 파일이 없으면 새로 생김 / 데이터가 바뀌면 백지상태에서 새로 만듦
    - a : 추가 

  - 해석 방법
    - t : text 모드로 열기
    - b : binary 모드로 열기
  - 'wt', 'rt', 'tr' 등 순서는 상관이 없다. 'wt', 'rt' 처럼 동작지정을 먼저 쓴다.

## 파일 쓰기

```python
file_path = data/test.txt'
f = open(file_path,'wt')
f.write("파일 쓰기")
```

예를 들어 파일 경로를 `data/test.txt` **상대경로**로 설정했다. 

**현재 워킹 디렉토리(cwd)** 안에 **data**라는 폴더를 만들고 data 안에 **test.txt**라는 텍스트 파일이 만들어진다. 텍스트 내용은 f.write()에 입력한 대로 저장된다.

이때 텍스트 파일을 만들면 문자가 깨지는 경우가  생기는데 (주로 한글을 쓸때) 이유는 os에 따라 문자셋이 다르기 때문이다. 

인코딩을 통해 문자셋을 통일 시켜야 텍스트 깨지는 것을 방지할 수 있다.

```python
f = open(file_path,'wt',encoding = 'utf-8')	# vscode는 utf-8
```



## 파일 읽기

`f.read()` : 파일 전체 내용

`f.read(n)` : n 개의 내용

`f.readline()` : 한 줄

`f.readlines()` : 전체 라인을 리스트에 저장 / 각 라인의 끝에 개행 문자(`\n`)가 들어있다.

파일명이 다를 경우 쓰기와 다르게 에러가 일어난다.

## with 문

파일을 열어 사용을 했으면 사용 후에는 다시 닫아줘야 한다.

`.close()`로 닫아도 되지만 with문을 쓰면 따로 입력하지 않아도 자동으로 close되어 편리하다.

```python
with open("파일경로","모드",문자셋) as f:
```

open에 성공하면 with문을 실행하고 실패하면 나가게 된다.

with 블럭을 벗어나게 되면 자동으로 close가 실행된다.









